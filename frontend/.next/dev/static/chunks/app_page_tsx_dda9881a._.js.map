{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/UNIVERSITY/Shawls%20Website/DevNeuron/Assessment/frontend/app/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, ChangeEvent } from \"react\";\r\nimport Image from \"next/image\";\r\n\r\ninterface AttackResult {\r\n    clean_prediction: number;\r\n    adversarial_prediction: number;\r\n    adversarial_image: string;\r\n    success: boolean;\r\n}\r\n\r\nexport default function Home() {\r\n    const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n    const [preview, setPreview] = useState<string | null>(null);\r\n    const [epsilon, setEpsilon] = useState<number>(0.1);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n    const [result, setResult] = useState<AttackResult | null>(null);\r\n    const [error, setError] = useState<string | null>(null);\r\n\r\n    const handleFileChange = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files && e.target.files[0]) {\r\n            const file = e.target.files[0];\r\n            setSelectedFile(file);\r\n            setPreview(URL.createObjectURL(file));\r\n            setResult(null); // Reset previous results\r\n            setError(null);\r\n        }\r\n    };\r\n\r\n    const runAttack = async () => {\r\n        if (!selectedFile) return;\r\n\r\n        setLoading(true);\r\n        setError(null);\r\n        const formData = new FormData();\r\n        formData.append(\"file\", selectedFile);\r\n        formData.append(\"epsilon\", epsilon.toString());\r\n\r\n        try {\r\n            // Assuming backend is running on localhost:8000\r\n            const response = await fetch(\"http://localhost:8000/attack\", {\r\n                method: \"POST\",\r\n                body: formData,\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(\"Failed to perform attack\");\r\n            }\r\n\r\n            const data = await response.json();\r\n            setResult(data);\r\n        } catch (err: any) {\r\n            setError(err.message || \"Something went wrong\");\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <main className=\"min-h-screen bg-gray-50 text-gray-900 p-8 font-sans\">\r\n            <div className=\"max-w-5xl mx-auto\">\r\n                <header className=\"mb-10 text-center\">\r\n                    <h1 className=\"text-4xl font-extrabold text-blue-600 mb-2\">\r\n                        DevNeuron AI Security\r\n                    </h1>\r\n                    <p className=\"text-lg text-gray-600\">\r\n                        Adversarial Attack Demonstration (FGSM)\r\n                    </p>\r\n                </header>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\r\n                    {/* Controls Section */}\r\n                    <div className=\"md:col-span-1 bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                        <h2 className=\"text-xl font-semibold mb-6\">Configuration</h2>\r\n\r\n                        <div className=\"mb-6\">\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                Upload Image (Digit)\r\n                            </label>\r\n                            <input\r\n                                type=\"file\"\r\n                                accept=\"image/*\"\r\n                                onChange={handleFileChange}\r\n                                className=\"block w-full text-sm text-gray-500\r\n                  file:mr-4 file:py-2 file:px-4\r\n                  file:rounded-full file:border-0\r\n                  file:text-sm file:font-semibold\r\n                  file:bg-blue-50 file:text-blue-700\r\n                  hover:file:bg-blue-100\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"mb-8\">\r\n                            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                                Epsilon (Perturbation): {epsilon}\r\n                            </label>\r\n                            <input\r\n                                type=\"range\"\r\n                                min=\"0\"\r\n                                max=\"0.5\"\r\n                                step=\"0.01\"\r\n                                value={epsilon}\r\n                                onChange={(e) => setEpsilon(parseFloat(e.target.value))}\r\n                                className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\r\n                            />\r\n                            <p className=\"text-xs text-gray-500 mt-1\">\r\n                                Higher epsilon means more noise.\r\n                            </p>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={runAttack}\r\n                            disabled={!selectedFile || loading}\r\n                            className={`w-full py-3 px-4 rounded-lg font-bold text-white transition-colors\r\n                ${!selectedFile || loading\r\n                                    ? \"bg-gray-400 cursor-not-allowed\"\r\n                                    : \"bg-blue-600 hover:bg-blue-700 shadow-md\"\r\n                                }`}\r\n                        >\r\n                            {loading ? \"Attacking...\" : \"Run FGSM Attack\"}\r\n                        </button>\r\n\r\n                        {error && (\r\n                            <div className=\"mt-4 p-3 bg-red-50 text-red-600 text-sm rounded-md\">\r\n                                {error}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n\r\n                    {/* Results Section */}\r\n                    <div className=\"md:col-span-2 bg-white p-6 rounded-xl shadow-lg border border-gray-100\">\r\n                        <h2 className=\"text-xl font-semibold mb-6 border-b pb-2\">Results</h2>\r\n\r\n                        {!selectedFile ? (\r\n                            <div className=\"flex items-center justify-center h-64 text-gray-400 border-2 border-dashed border-gray-200 rounded-lg\">\r\n                                Select an image to start\r\n                            </div>\r\n                        ) : (\r\n                            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-8\">\r\n                                {/* Original */}\r\n                                <div className=\"flex flex-col items-center\">\r\n                                    <h3 className=\"font-medium text-gray-500 mb-3\">Original Image</h3>\r\n                                    <div className=\"relative w-48 h-48 border-4 border-gray-100 rounded-lg overflow-hidden shadow-sm\">\r\n                                        {preview && (\r\n                                            <Image\r\n                                                src={preview}\r\n                                                alt=\"Original\"\r\n                                                fill\r\n                                                className=\"object-contain\"\r\n                                            />\r\n                                        )}\r\n                                    </div>\r\n                                    {result && (\r\n                                        <div className=\"mt-4 text-center\">\r\n                                            <p className=\"text-sm text-gray-500\">Model Prediction</p>\r\n                                            <p className=\"text-2xl font-bold text-gray-800\">{result.clean_prediction}</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n\r\n                                {/* Adversarial */}\r\n                                <div className=\"flex flex-col items-center\">\r\n                                    <h3 className=\"font-medium text-gray-500 mb-3\">Adversarial Image</h3>\r\n                                    <div className=\"relative w-48 h-48 border-4 border-red-50 rounded-lg overflow-hidden shadow-sm\">\r\n                                        {result ? (\r\n                                            <Image\r\n                                                src={result.adversarial_image}\r\n                                                alt=\"Adversarial\"\r\n                                                fill\r\n                                                className=\"object-contain\" // Use object-contain to avoid stretching\r\n                                            />\r\n                                        ) : (\r\n                                            <div className=\"w-full h-full flex items-center justify-center bg-gray-50 text-gray-300 text-sm\">\r\n                                                Waiting for attack...\r\n                                            </div>\r\n                                        )}\r\n                                    </div>\r\n                                    {result && (\r\n                                        <div className=\"mt-4 text-center\">\r\n                                            <p className=\"text-sm text-gray-500\">Model Prediction</p>\r\n                                            <p className={`text-2xl font-bold ${result.success ? 'text-red-600' : 'text-gray-800'}`}>\r\n                                                {result.adversarial_prediction}\r\n                                            </p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* Status Banner */}\r\n                        {result && (\r\n                            <div className={`mt-8 p-4 rounded-lg text-center font-medium\r\n                ${result.success ? \"bg-red-100 text-red-800 border border-red-200\" : \"bg-green-100 text-green-800 border border-green-200\"}\r\n              `}>\r\n                                {result.success\r\n                                    ? \"Attack Successful! The model was fooled.\"\r\n                                    : \"Attack Failed. The model prediction remained unchanged.\"}\r\n                            </div>\r\n                        )}\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}